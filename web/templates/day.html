{% extends "base.html" %}

{% block title %}Activity Tracker - {{ date.strftime('%Y-%m-%d') }}{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="/static/styles/day.css">
{% endblock %}

{% block extra_styles %}
{# CSS moved to /static/styles/day.css #}
{% endblock %}

{% block content %}
<div class="day-header">
    <h1 class="day-title">{{ date.strftime('%A, %B %d, %Y') }}</h1>
    <div class="day-nav">
        <a href="/day/{{ (date - timedelta(days=1)).strftime('%Y-%m-%d') }}" class="btn">‚Üê Previous</a>
        <a href="/day/{{ (date + timedelta(days=1)).strftime('%Y-%m-%d') }}" class="btn">Next ‚Üí</a>
        <a id="collapseAllBtn" class="btn">Collapse All</a>
        <a href="/timeline" class="btn btn-primary">View in Timeline</a>
    </div>
</div>

{% if screenshots %}
    <div id="hourlyGroups">
        <!-- Will be populated by JavaScript -->
    </div>
    <!-- Screenshot modal is included from base.html -->

    <!-- Pass screenshots data to JavaScript -->
    <script type="application/json" id="screenshots-data">{{ screenshots | tojson }}</script>
{% else %}
    <div class="empty-state">
        <div class="empty-state-icon">üí§</div>
        <h2>No screenshots found</h2>
        <p>No activity captured for {{ date.strftime('%B %d, %Y') }}.</p>
        {% if date == today %}
            <p>Make sure the tracker service is running.</p>
        {% endif %}
    </div>
{% endif %}
{% endblock %}

{% block extra_scripts %}
{% if screenshots %}
<script src="/static/js/day.js"></script>
{% endif %}
{% endblock %}
